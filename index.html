<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://hv-camera-web-sg.s3-ap-southeast-1.amazonaws.com/hyperverge-web-sdk@3.3.5/src/sdk.min.js"></script>
</head>

<body>
    <left>
        <h1>Hyperverge WebSDK Demo base index file</h1>
    </left>
    <div class="container">
        <div class="form-group">
            <button type="button" onclick="documentCapture();" class="btn btn-primary">Document Capture</button>
            <button type="button" onclick="faceCapture();" class="btn btn-primary">Face Capture</button>
        </div>
        <div id="div1"></div>
    </div>
    <script>
        // client calls the auth api to get the token from their backend server
        var jwtToken = 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBJZCI6ImJlZGM4NSIsImhhc2giOiI4OTc2ZTkwODY3ZTYwMWIzYzRlYjU3OTRkYTg1NjVlYTdiNGQzYzMyZjVhZTQ5NTA0ODQ2NzE2MDlmN2UxNWY5IiwiaWF0IjoxNjQ5MDc1OTUyLCJleHAiOjE2NDkwNzU5NTMsImp0aSI6IjFiODU2ZmM0LWMwZjktNDZmZS04NTcyLTAzNDhjYWI0NjU5ZCJ9.itR-o8nJ-tmLHG2RbhdMTvA6el0WrryqBjVJkzpt_qLVkMwid_VawC3Uf9zEP3KeZP4CnodwxJlw4bOYcxhttmZxMSg24tPqopK1IZyHR-BshTRs1AfvtBHPKXfXp0WWKu9yGRkKj40JDmLywYKQTPP5nOeg-cXE1-Vi2lyGFD0'
        HyperSnapSDK.init(jwtToken, HyperSnapParams.Region.India);
        HyperSnapSDK.startUserSession();
        var faceImage = '';
        var docImage = '';
        //----------------------------DOCUMENT   CAPTURE-------------------------------------------

        var documentCapture = () => {
            hvDocConfig = new HVDocConfig();
            hvDocConfig.setOCRDetails(
                'https://ind-docs.hyperverge.co/v2.0/readKYC',
                hvDocConfig.DocumentSide.FRONT, {}, {},
            );
            hvDocConfig.setShouldShowInstructionPage(true);
            HVDocsModule.start(hvDocConfig, callback);

        }

        //--------------------------------------------------------------------------------------------------------------
        var faceCapture = () => {
            hvFaceConfig = new HVFaceConfig();
            hvFaceConfig.setShouldShowInstructionPage(true);
            hvFaceConfig.setLivenessAPIParameters({
                rejectFaceMask: 'yes',
                allowEyesClosed: 'no',
                allowMultipleFaces: 'no',
            });
            HVFaceModule.start(hvFaceConfig, callback);
        }

        //--------------------------------------------------------------------------------------------------------------
        var callback = (HVError, HVResponse) => {
            if (HVError) {
                var para = document.createElement('p');
                var node = document.createTextNode(JSON.stringify(HVError));
                para.appendChild(node);
                var element = document.getElementById('div1');
                element.appendChild(para);
            } else {
                var para = document.createElement('p');
                var node = document.createTextNode(JSON.stringify(HVResponse));
                para.appendChild(node);
                var element = document.getElementById('div1');
                element.appendChild(para);
            }
        };
    </script>
</body>

</html>
