<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://hv-camera-web-sg.s3-ap-southeast-1.amazonaws.com/hyperverge-web-sdk@5.1.3/src/sdk.min.js"></script>
</head>

<body>
    <left>
        <h1>GKYC in index file</h1>
    </left>
    <div class="container">
        <div class="form-group">
            <button type="button" onclick="startPOIWorkflow();" class="btn btn-primary">GKYC WORKFLOW BUILDER PII 2- Please check console for output</button>
<!--             <button type="button" onclick="startPOAWorkflow();" class="btn btn-primary">GKYC WORKFLOW BUILDER POA 1- Please check console for output</button>
 -->
        </div>
        <div id="div1"></div>
		
    </div>
	<div class="container">
        <div class="form-group">
            <button type="button" onclick="startPOIWorkflow();" class="btn btn-primary">GKYC WORKFLOW BUILDER PII 2- Please check console for output</button>
<!--             <button type="button" onclick="startPOAWorkflow();" class="btn btn-primary">GKYC WORKFLOW BUILDER POA 1- Please check console for output</button>
 -->
        </div>
        <div id="div1"></div>
		
    </div>
    <script>
        // client calls the auth api to get the token from their backend server

            const startPOIWorkflow = async function() {
    var name = window.prompt("Enter your name: ");
    alert("Your name is " + name);

    var accessToken = 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBJZCI6IjdiNzBjZSIsImhhc2giOiJjY2UwNzI1YmJjMGMxNzEzYzZlMTQxZjQ0NmJhNjdiNzMwZmUyZWNjNTQ0YzkzM2IzNjJiY2E3ZTg4ZTMxOWU5IiwiaWF0IjoxNjU4NDMxNTQ0LCJleHAiOjE2NTg1MTc5NDQsImp0aSI6ImZmODM5OWU0LWY4ZjctNDEwYi1hMzc4LTBmMWNjNjRkZDI5YSJ9.HTQ9CdfqB0vxytcIn2ghjTTf-jS36xeYjJc5dN8lBUUsZ032KUOEQUgkYCI5WMp0b0s1YpMiAv8y_x921t5AaTuYRagQFXMcH60NWNZwH6BAiSKsh4oB3M2_5g-xlotbiiQpBTJOtqJ3TqCIBbZjXDxdTXFIx0vZ2guFdVnGhAY'
    const workflow = "prod_pii_flow"
    const hyperKycConfig = new window.HyperKycConfig(accessToken, workflow, "ProdApp_Testing_Internal_1_PII");

    const handler = (HyperKycResult) => {
        if (HyperKycResult.Cancelled) { //User cancelled
            console.log("User Cancelled");
            console.log(HyperKycResult.Cancelled);
        } else if (HyperKycResult.Failure) { // failure

            console.log("Error Occured");
            console.log(HyperKycResult.Failure);
        } else if (HyperKycResult.Success) { // success
            console.log("Successful Implementation");
            console.log(HyperKycResult.Success);
        }
    }
    window.HyperKYCModule.launch(hyperKycConfig, handler);


}
const startPOIWorkflow = async function() {
    console.log("JWT NOT READY");
    var accessToken = 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBJZCI6ImZjNDk2MyIsImhhc2giOiI4YzBhNDFiMmQ2MGZlNWM3MmFkZWNmYTZlYjliYjkyZjFlNzUzNjU0OGVhOGQ5YjczOTc3ODVlZmRiZDBkODJiIiwiaWF0IjoxNjU4NDMxNjgzLCJleHAiOjE2NTg1MTgwODMsImp0aSI6IjBhMWEyNjA3LTg5YzQtNGNlOC1hMTRmLWRlZWJmODk4NjZiYSJ9.dU2MSqPemWxcPn1DKz7dU0yPs_or_uqkgHGQqRp-s2uC0-yzgsB4YuHqtBCB_86TOzJdUZ-uYSOhT-bm0pzXsVxtVMG56-_O3otT0K-ZJzAEztOX7RwBW-XEFXFM_fnWLAYlniYxtf4S_tCdr9xLSeyhsDq2S0mbSDKkiB2fBFE'
    //console.log(accessToken); 
    console.log("JWT READY");

    const workflow = "prod_poa_flow"

    const hyperKycConfig = new window.HyperKycConfig(accessToken, workflow, "ProdApp_Testing_Internal_1_POA");

    const handler = (HyperKycResult) => {
        if (HyperKycResult.Cancelled) { //User cancelled
            console.log("User Cancelled");
            console.log(HyperKycResult.Cancelled);
        } else if (HyperKycResult.Failure) { // failure

            console.log("Error Occured");
            console.log(HyperKycResult.Failure);
        } else if (HyperKycResult.Success) { // success
            console.log("Successful Implementation");
            console.log(HyperKycResult.Success);
        }
    }
    window.HyperKYCModule.launch(hyperKycConfig, handler);


}
          

        //--------------------------------------------------------------------------------------------------------------
    </script>
</body>

</html>
